<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/xhtml">
<div th:replace="~{commons/head ::  head}"></div>
<link rel="stylesheet" th:href="@{/css/book.css}">

<body>
	<div th:replace="~{commons/navbar :: .navbar}"></div>
	<div class="container-fluid mb-5">
		<div class="">
				<img th:src="@{/images/bg_img.png}" class="img-fluid" alt="...">
		</div>
		<div class="card d-block mx-auto w-75 mt-5">
			<div class="card-body" >
				<div class="row" style="height: 90%;">
					<div class="col-5">
						<div class="d-flex flex-row" style="height: 90%;">
							<div style="width: 100px;" class="flex-column">
								<img th:each="img:${book.images}" class="img-fluid rounded img-sm"
									th:src="@{${img.url}}" alt="">
							</div>
							<div class="flex-grow-1">
								<img class="img-fluid" th:src="@{${book.images[0].url}}" alt="">
							</div>
						</div>
						<div class="d-flex flex-row justify-content-around mt-2">
							<button class="btn btn-outline-pink " style="width: 45%;">Thêm vào giỏ hàng</button>
							<button class="btn btn-pink " style="width: 45%;">Mua hàng</button>
						</div>
					</div>
					<div class="col-7">
						<section>
							<h3 class="mt-2">[[${book.name}]]</h3>
							<p class="mt-2">Nhà cung cấp: Nhã Nam</p>
							<p class="mt-2">Giá: [[${book.price}]]</p>
							<p class="mt-2">Thời gian giao hàng: Giao hàng đến</p>
							<p class="mt-2">Chính sách đổi trả: Đổi trả trong 30 ngày</p>
							<section class="border rounded section-number">
								<button class="btn btn-default">-</button>
								<input class="input-book" type="number" step="1" value="1" disabled>
								<button class="btn btn-default">+</button>
							</section>
						</section>
					</div>
				</div>
			</div>
		</div>
		<div class="card d-block mx-auto w-75 mt-5">
			<div class="card-body" style="height: 100%;">
				<div class="row">
					<!-- Tabs navs -->
					<ul class="nav nav-tabs mb-3" id="ex1" role="tablist" style="height:fit-content">
						<li class="nav-item" role="presentation">
							<a class="nav-link active" id="ex1-tab-1" data-mdb-toggle="tab" href="#ex1-tabs-1"
								role="tab" aria-controls="ex1-tabs-1" aria-selected="true">Giới thiệu</a>
						</li>
						<li class="nav-item" role="presentation">
							<a class="nav-link" id="ex1-tab-2" data-mdb-toggle="tab" href="#ex1-tabs-2" role="tab"
								aria-controls="ex1-tabs-2" aria-selected="false">Tab 2</a>
						</li>
						<li class="nav-item" role="presentation">
							<a class="nav-link" id="ex1-tab-3" data-mdb-toggle="tab" href="#ex1-tabs-3" role="tab"
								aria-controls="ex1-tabs-3" aria-selected="false">Tab 3</a>
						</li>
					</ul>
					<!-- Tabs navs -->

					<!-- Tabs content -->
					<div class="tab-content" id="ex1-content">
						<div class="tab-pane fade show active" id="ex1-tabs-1" role="tabpanel"
							aria-labelledby="ex1-tab-1">
							[[${book.describe}]]
						</div>
						<div class="tab-pane fade" id="ex1-tabs-2" role="tabpanel" aria-labelledby="ex1-tab-2">
							Tab 2 content
						</div>
						<div class="tab-pane fade" id="ex1-tabs-3" role="tabpanel" aria-labelledby="ex1-tab-3">
							Tab 3 content
						</div>
					</div>
					<!-- Tabs content -->
				</div>
			</div>
		</div>
		<div class="card d-block mx-auto w-75 mt-5" style="height:400px">
			<div class="card-body" style="height: 100%;">
				<div class="row">
					<h4>Sách khác</h4>
					<div class="container text-center my-3">
						<div class="row mx-auto my-auto justify-content-center">
							<div id="recipeCarousel" class="carousel slide" data-bs-ride="carousel">
								<div class="carousel-inner" role="listbox">
									<div class="carousel-item active">
										<div class="col-md-3">
											<div class="card">
												<div class="card-img">
													<img src="https://via.placeholder.com/700x500.png/CB997E/333333?text=1" class="img-fluid">
												</div>
												<div class="card-img-overlay">Slide 1</div>
											</div>
										</div>
									</div>
									<div class="carousel-item" th:each="b:${listBook}">
										<div class="col-md-3">
											<div class="card">
												<div class="card-body">
													<img th:src="${b.images[0].url}" class="img-fluid" alt="">
													<p class="card-title">[[${b.name}]]</p>
												</div>
												<div class="card-img-overlay">[[${b.price}]]</div>
											</div>
										</div>
									</div>
								</div>
								<a class="carousel-control-prev bg-transparent w-aut" href="#recipeCarousel" role="button" data-bs-slide="prev">
									<span class="carousel-control-prev-icon" aria-hidden="true"></span>
								</a>
								<a class="carousel-control-next bg-transparent w-aut" href="#recipeCarousel" role="button" data-bs-slide="next">
									<span class="carousel-control-next-icon" aria-hidden="true"></span>
								</a>
							</div>
						</div>		
					</div>
				</div>
			</div>
		</div>
	</div>
	<div th:replace="~{commons/footer :: footer}"></div>
	<script type="text/javascript">
	let items = document.querySelectorAll('.carousel .carousel-item')

		items.forEach((el) => {
			const minPerSlide = 4
			let next = el.nextElementSibling
			for (var i=1; i<minPerSlide; i++) {
				if (!next) {
            // wrap carousel by using first child
            next = items[0]
        }
        let cloneChild = next.cloneNode(true)
        el.appendChild(cloneChild.children[0])
        next = next.nextElementSibling
    }
})
</script>
</body>

</html>